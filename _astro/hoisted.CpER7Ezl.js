import"./AnnouncementBanner.astro_astro_type_script_index_0_lang.2CmfznmT.js";import"https://f.convertkit.com/ckjs/ck.5.js";document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("sbom-code");if(!o)return;const r=[{line:21,id:"1",title:"Merkle Root",text:"Cryptographic hash that verifies the integrity of all components in the SBOM"},{line:29,id:"2",title:"Kernel Version",text:"We capture the Linux kernel version that was running when the SBOM was generated"},{line:35,id:"3",title:"Library Components",text:"Bomfather captures all library dependencies with their version information and package URLs"},{line:47,id:"4",title:"File Access Tracking",text:"We track all files that were accessed during the build process, including their paths and hashes"}];function c(n){let e=n.replace(/"([^"]+)":/g,'<span class="json-key">"$1"</span>:');return e=e.replace(/: "([^"]+)"/g,': <span class="json-string">"$1"</span>'),e=e.replace(/: ([0-9]+)/g,': <span class="json-number">$1</span>'),e=e.replace(/: (true|false)/g,': <span class="json-boolean">$1</span>'),e=e.replace(/: null/g,': <span class="json-null">null</span>'),e=e.replace(/({|}|\[|\])/g,'<span class="json-bracket">$1</span>'),e}function d(){try{let e=c(o.innerHTML).split(`
`);r.forEach(t=>{const a=t.line-1;a>=0&&a<e.length&&(e[a]=e[a]+` <span class="annotation-marker" data-id="${t.id}" title="Click for explanation about ${t.title}"><i class="fa-solid fa-circle-info"></i></span>`)}),o.innerHTML=e.join(`
`)}catch(n){console.error("Error adding annotation markers:",n)}}d(),setTimeout(()=>{const n=document.querySelectorAll(".annotation-marker"),e=new Map;n.forEach(t=>{const a=t.getAttribute("data-id"),i=t.getBoundingClientRect(),s=document.querySelector(".annotated-code-container").getBoundingClientRect();e.set(a,{top:i.top-s.top+i.height/2,left:i.left-s.left+i.width}),t.addEventListener("click",function(g){const l=this.getAttribute("data-id");p(l,e.get(l)),g.stopPropagation()})})},100);function p(n,e){const t=document.getElementById(`explanation-${n}`);if(!t)return;document.querySelectorAll(".explanation-card").forEach(i=>{i.classList.remove("visible")}),t.classList.add("visible"),window.innerWidth>768&&(t.style.top=`${e.top}px`,t.style.left=`${e.left+15}px`)}document.addEventListener("click",function(n){!n.target.classList.contains("annotation-marker")&&!n.target.closest(".annotation-marker")&&document.querySelectorAll(".explanation-card").forEach(t=>{t.classList.remove("visible")})})});
